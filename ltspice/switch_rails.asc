Version 4
SHEET 1 2048 1236
WIRE 688 -336 688 -368
WIRE 688 -336 544 -336
WIRE 832 -336 688 -336
WIRE 944 -336 832 -336
WIRE 544 -304 544 -336
WIRE 832 -304 832 -336
WIRE 944 -288 944 -336
WIRE 832 -192 832 -224
WIRE 944 -192 944 -224
WIRE 944 -192 832 -192
WIRE 544 -144 544 -224
WIRE 832 -144 832 -192
WIRE 672 -96 608 -96
WIRE 768 -96 672 -96
WIRE 160 0 160 -48
WIRE 240 0 160 0
WIRE 544 0 544 -48
WIRE 544 0 304 0
WIRE 672 0 672 -96
WIRE 672 0 544 0
WIRE -80 128 -800 128
WIRE 160 128 160 0
WIRE 160 128 16 128
WIRE 176 128 160 128
WIRE 336 128 176 128
WIRE 832 128 832 -48
WIRE 832 128 432 128
WIRE 1616 128 1616 64
WIRE 1616 128 832 128
WIRE -800 208 -800 128
WIRE -336 224 -336 192
WIRE -336 224 -432 224
WIRE -240 224 -336 224
WIRE -240 256 -240 224
WIRE 1616 256 1616 128
WIRE -432 272 -432 224
WIRE -48 288 -48 256
WIRE 0 288 0 176
WIRE 0 288 -48 288
WIRE 64 288 0 288
WIRE 160 288 128 288
WIRE 176 288 176 128
WIRE 176 288 160 288
WIRE 240 288 176 288
WIRE 352 288 352 176
WIRE 352 288 304 288
WIRE 400 288 400 256
WIRE 400 288 352 288
WIRE -800 336 -800 288
WIRE -432 352 -432 336
WIRE 1616 368 1616 336
WIRE 0 384 0 288
WIRE 352 384 352 288
WIRE -240 400 -240 336
WIRE -432 448 -432 416
WIRE -304 448 -432 448
WIRE -432 480 -432 448
WIRE -240 528 -240 496
WIRE 0 528 0 464
WIRE 0 528 -240 528
WIRE 352 528 352 464
WIRE 352 528 0 528
WIRE -432 592 -432 560
WIRE -736 656 -736 608
WIRE -624 656 -736 656
WIRE -64 656 -544 656
WIRE 240 656 -64 656
WIRE 1344 656 1344 624
WIRE 1504 656 1504 624
WIRE 768 720 720 720
WIRE 912 720 848 720
WIRE 1152 720 1104 720
WIRE 1344 768 1344 736
WIRE 1504 768 1504 736
WIRE -736 784 -736 656
WIRE 160 784 160 288
WIRE 352 784 352 528
WIRE 1152 784 1104 784
WIRE 912 816 896 816
WIRE 1168 816 1104 816
WIRE 1168 848 1168 816
WIRE -64 864 -64 656
WIRE -16 864 -64 864
WIRE 112 864 64 864
WIRE 240 864 240 656
WIRE 304 864 240 864
WIRE 720 880 720 720
WIRE -736 928 -736 864
WIRE 160 928 160 880
WIRE 160 928 -736 928
WIRE 240 928 160 928
WIRE 352 928 352 880
WIRE 352 928 240 928
WIRE 1168 944 1168 928
WIRE 240 976 240 928
WIRE 720 992 720 960
WIRE 896 992 896 816
WIRE 896 992 720 992
WIRE 720 1024 720 992
FLAG -432 592 0
FLAG 1344 768 0
FLAG 1344 624 +40
FLAG -336 192 +40
FLAG 1616 368 0
FLAG 1616 64 Vload
FLAG 1504 768 0
FLAG 1504 624 -40
FLAG 240 976 -40
FLAG 688 -368 +40
FLAG 160 -48 Source
FLAG 400 256 gate2
FLAG -48 256 gate1
FLAG -800 336 0
FLAG -736 608 Vto
FLAG 1152 720 gate2
FLAG 1152 784 Source
FLAG 1168 944 0
FLAG 720 1024 0
SYMBOL nmos -80 176 R270
WINDOW 0 22 99 VRight 2
WINDOW 3 -5 100 VRight 2
SYMATTR InstName M1
SYMATTR Value IRFL4310
SYMBOL nmos 432 176 M270
WINDOW 0 24 -5 VLeft 2
WINDOW 3 -3 -6 VLeft 2
SYMATTR InstName M2
SYMATTR Value IRFL4310
SYMBOL zener 128 304 M270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BZX84C10L
SYMBOL zener 240 304 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value BZX84C10L
SYMBOL res -16 368 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL res 336 368 R0
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL diode -448 272 R0
WINDOW 0 47 25 Left 2
WINDOW 3 45 51 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -448 352 R0
WINDOW 0 47 23 Left 2
WINDOW 3 43 51 Left 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL pnp -304 496 M180
WINDOW 0 71 64 Left 2
WINDOW 3 70 33 Left 2
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL res -448 464 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res -256 240 R0
SYMATTR InstName R4
SYMATTR Value 50
SYMBOL voltage 1344 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 40
SYMBOL res 1600 240 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL nmos 112 784 R0
WINDOW 0 24 -5 VLeft 2
WINDOW 3 -3 -6 VLeft 2
SYMATTR InstName M3
SYMATTR Value IRFL4310
SYMBOL nmos 304 784 R0
WINDOW 0 24 -5 VLeft 2
WINDOW 3 -3 -6 VLeft 2
SYMATTR InstName M4
SYMATTR Value IRFL4310
SYMBOL voltage 1504 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value -40
SYMBOL voltage -736 768 R0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V4
SYMATTR Value PULSE(0 10 1u 10n 10n 1u 50m 20)
SYMBOL pnp 768 -48 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL pnp 608 -48 R180
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL res 528 -320 R0
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL res 816 -320 R0
SYMATTR InstName R7
SYMATTR Value 10
SYMBOL cap 240 16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 170p
SYMBOL res -640 672 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 1n
SYMBOL cap 928 -288 R0
SYMATTR InstName C3
SYMATTR Value 1f
SYMBOL res -32 880 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1n
SYMBOL voltage -800 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 1
SYMBOL Optos\\MOC205 1008 784 R0
SYMATTR InstName U1
SYMBOL res 752 736 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 1
SYMBOL res 1152 832 R0
SYMATTR InstName R11
SYMATTR Value 1T
SYMBOL voltage 720 864 R0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V5
SYMATTR Value PULSE(0 10 1u 10n 10n 5u)
TEXT 1624 688 Left 2 !.tran 0 100u 0
TEXT -664 824 Left 2 ;On/off control
TEXT 208 64 Left 2 ;Charge injection
TEXT -184 288 Left 2 ;Set turn-on\ncurrent
TEXT 72 352 Left 2 ;10V\nzener
TEXT 240 352 Left 2 ;10V\nzener
TEXT -744 -192 Left 2 ;switch_rails.asc\nThis is rev C of the AC switch for ec100.  The floating supplies\nformerly provided by TI DCP switching power supplies have \nbeen removed in favor of simply using the +/-37V rails
TEXT 392 816 Left 2 ;Maximum Vds for these\nmosfets is 70V.
TEXT -304 0 Left 2 ;Maximum Vds for the switching mosfets\nhappens when switching +30V.  Drains\nare then at +30 while sources are pulled\nto -40, for Vds,max = 70V
TEXT 440 232 Left 2 ;Fairchild FDS3601 dual mosfets\ncan handle 100V Vds\nSRS part 3-1723
TEXT -304 560 Left 2 ;Current source transistor must\nhandle 80V Vce and up to 10mA,\nfor 800mW dissipation
TEXT -464 688 Left 2 ;PZTA92 is a 300V Vce pnp\nthat can handle 1W in a SOT-223
TEXT 944 -112 Left 2 ;This current mirror transistor\ncan see 70V Vce
TEXT 1632 720 Left 2 !.include models/jpsmodels.mod
